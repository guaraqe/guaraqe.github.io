<!DOCTYPE html>
<html lang="en">
<head profile="http://www.w3.org/2005/10/profile">
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <title>3.1 Cumulative probabilities
</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@3.1.0/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
    </script>

</head>
<body>
    <header>
        <div class="navbar bg-base-100">
          <div class="navbar-start">
            <nav>
            <ol class="inline-flex items-center space-x-1 md:space-x-3">
        <li class="inline-flex items-center">
          <a href="/" class="inline-flex items-center text-l font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white">
            <svg aria-hidden="true" class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg>
            Juan Raphael Diaz Simões
          </a>
        </li>
    
        <li>
      <div class="flex items-center">
        <svg aria-hidden="true" class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
        <a href="/courses" class="ml-1 text-l font-medium text-gray-700 hover:text-blue-600 md:ml-2 dark:text-gray-400 dark:hover:text-white">Courses</a>
      </div>
    </li>

          </div>
          <div class="navbar-end">
            <ul class="menu menu-horizontal px-1">
              <li><a href="/posts">Posts</a></li>
              <li><a href="/courses">Courses</a></li>
              <li><a href="/cv.html">CV</a></li>
              <li><a href="/projects.html">Projects</a></li>
            </ul>
          </div>
        </nav>
    </header>
    <div class="md:flex justify-center bg-base-100">
<article class="prose max-w-prose mb-5">
  <div class="book-navigation">

    <div class="book-navigation-parent drawer">
      <input id="my-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content">
        <label for="my-drawer">
          <div class="space-y-1 inline-block">
            <div class="w-4 h-0.5 bg-gray-600"></div>
            <div class="w-4 h-0.5 bg-gray-600"></div>
            <div class="w-4 h-0.5 bg-gray-600"></div>
          </div>
          <b>Index</b>
        </label>
      </div>
      <div class="drawer-side">
        <label for="my-drawer" class="drawer-overlay"></label>
           <div class="menu menu-vertical p-4 bg-base-200">
             <h1 class="text-xl mb-5 w-100" style="margin-left: 0.75em;">
                  Statistics using Excel, a data type based approach

             </h1>
             <div style="margin-left:-1.5em;">
               <ul class="list-disc list-outside mt-1 mb-3 pl-5"><li><a class="link link-hover text-zinc-600" href="/courses/statistics/1-introduction/index.html">1 Introduction: types of data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/2-categorical-data/index.html">2 Categorical Data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"><li><a class="link link-hover text-zinc-600" href="/courses/statistics/2-categorical-data/1-probabilities/index.html">2.1 Probabilities and distributions
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/2-categorical-data/2-multiple-variables/index.html">2.2 Multiple variables and joint probabilities
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/2-categorical-data/3-testing/index.html">2.3 Testing Categorical Data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/3-ordered-data/index.html">3 Ordered Data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"><li><a class="link link-hover text-zinc-600" href="/courses/statistics/3-ordered-data/1-measurements/index.html">3.1 Cumulative probabilities
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/3-ordered-data/2-multiple-variables-models/index.html">3.2 Models and binary diagnosis
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/3-ordered-data/3-testing/index.html">3.3 Conditional probabilities and model evaluation
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/4-numerical-data/index.html">4 Numerical Data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"><li><a class="link link-hover text-zinc-600" href="/courses/statistics/4-numerical-data/1-measurements/index.html">4.1 Numerical data
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/4-numerical-data/2-multiple-variables/index.html">4.2 Covariance, Correlation, Regression
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li><li><a class="link link-hover text-zinc-600" href="/courses/statistics/4-numerical-data/3-testing/index.html">4.3 Normal Distribution and Testing
</a><ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul></li></ul></li></ul>
             </div>
           </div>
      </div>
    </div>

    <div class="book-navigation-parent">
      <div class="arrow arrow-up"></div>
      <a href="/courses/statistics/3-ordered-data/index.html">3 Ordered Data
</a>
      <div class="arrow arrow-up"></div>
    </div>

    <div class="book-navigation-section">

       <div class="book-navigation-previous">
       </div>

       <div class="book-navigation-next">
         <a href="/courses/statistics/3-ordered-data/2-multiple-variables-models/index.html">3.2 Models and binary diagnosis
</a>
         <div class="arrow arrow-right"></div>
       </div>
    </div>

    <div id="google_translate_element" style="margin-top:1em;"></div>

  </div>

    <h1 class="text-3xl mb-5">
    3.1 Cumulative probabilities

</h1>

<p class="mb-3">Ordered data has extra structure, compared to categorical data. For any two values <span class="math inline notranslate">x</span> and <span class="math inline notranslate">y</span>, we can determine whether <span class="math inline notranslate">x \geq y</span> or <span class="math inline notranslate">x \leq y</span>. Using this kind of data, we can also make histograms just as before.</p>
<h1 class="text-2xl mt-5 mb-5" data-number="1" id="histograms"><span class="header-section-number">1</span> Histograms</h1>
<p class="mb-3">As example data, let’s use the set of grades of a classroom. Possible grades are 1, 2, 3, 4 and 5. While these are written as numbers, they are actually categories, since the meaning of these are more similar to grades like A, B, C… than to strict numeral grades, for example, from 0 to 100.</p>
<table class="table border-collapse mb-3">
<thead>
<tr class="header">
<th class="border">Student</th>
<th class="border">Grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="border">Alice</td>
<td class="border">4</td>
</tr>
<tr class="even">
<td class="border">Bob</td>
<td class="border">2</td>
</tr>
<tr class="odd">
<td class="border">Claire</td>
<td class="border">5</td>
</tr>
<tr class="even">
<td class="border">Daniel</td>
<td class="border">3</td>
</tr>
<tr class="odd">
<td class="border">Eddy</td>
<td class="border">3</td>
</tr>
<tr class="even">
<td class="border">Flora</td>
<td class="border">4</td>
</tr>
<tr class="odd">
<td class="border">Graham</td>
<td class="border">3</td>
</tr>
<tr class="even">
<td class="border">Iris</td>
<td class="border">3</td>
</tr>
<tr class="odd">
<td class="border">Jana</td>
<td class="border">2</td>
</tr>
<tr class="even">
<td class="border">Kleyton</td>
<td class="border">1</td>
</tr>
</tbody>
</table>
<p class="mb-3">The count distribution table for this data is:</p>
<table class="table border-collapse mb-3">
<thead>
<tr class="header">
<th class="border">Grade</th>
<th class="border">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="border">1</td>
<td class="border">1</td>
</tr>
<tr class="even">
<td class="border">2</td>
<td class="border">2</td>
</tr>
<tr class="odd">
<td class="border">3</td>
<td class="border">4</td>
</tr>
<tr class="even">
<td class="border">4</td>
<td class="border">2</td>
</tr>
<tr class="odd">
<td class="border">5</td>
<td class="border">1</td>
</tr>
</tbody>
</table>
<p class="mb-3">The histogram for this data would be:</p>
<p class="mb-3"><img class="mx-auto" src="data/grade-histogram.png" /></p>
<p class="mb-3">The only difference between this histogram and those for categorical data is that the order of labels on the horizontal axis is important. Usually, these labels should increase from the left to the right.</p>
<h1 class="text-2xl mt-5 mb-5" data-number="2" id="cumulative-histograms"><span class="header-section-number">2</span> Cumulative histograms</h1>
<p class="mb-3">The first kind of graph that is particular to ordered data are cumulative histograms. To build these, we write a table like the distribution table from before, but instead of counting the numbers for each grade, we count the numbers <em>up to</em> that grade:</p>
<table class="table border-collapse mb-3">
<thead>
<tr class="header">
<th class="border">Grade</th>
<th class="border">Cumulative Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="border">1</td>
<td class="border">1</td>
</tr>
<tr class="even">
<td class="border">2</td>
<td class="border">3</td>
</tr>
<tr class="odd">
<td class="border">3</td>
<td class="border">7</td>
</tr>
<tr class="even">
<td class="border">4</td>
<td class="border">9</td>
</tr>
<tr class="odd">
<td class="border">5</td>
<td class="border">10</td>
</tr>
</tbody>
</table>
<p class="mb-3">In this table, the cumulative count for 3 is 7, because this is the amount of people who have a grade that is 3 or less. The histogram for this data is:</p>
<p class="mb-3"><img class="mx-auto" src="data/grade-cumulative-histogram.png" /> # Quantiles</p>
<p class="mb-3">The main usage for cumulative distribution histograms is the determination of quantiles. Quantiles are used to answer questions such as: which grade to you need to have so you are in the top 10% of grades? which grade do you need to have so you are in the bottom 30%?</p>
<p class="mb-3">To better translate to these questions, let’s rewrite the table above to probabilities:</p>
<table class="table border-collapse mb-3">
<thead>
<tr class="header">
<th class="border">Grade</th>
<th class="border">Cumulative Probability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td class="border">1</td>
<td class="border">0.1</td>
</tr>
<tr class="even">
<td class="border">2</td>
<td class="border">0.3</td>
</tr>
<tr class="odd">
<td class="border">3</td>
<td class="border">0.7</td>
</tr>
<tr class="even">
<td class="border">4</td>
<td class="border">0.9</td>
</tr>
<tr class="odd">
<td class="border">5</td>
<td class="border">10</td>
</tr>
</tbody>
</table>
<p class="mb-3">and also the graph:</p>
<p class="mb-3"><img class="mx-auto" src="data/grade-cumulative-probability.png" /></p>
<p class="mb-3">The way to use this graph is the following. Suppose the question is: which grade you need to that you are in the bottom 20% of grades. This means that your grade is the same or larger than 20% of people. Which means you want to find the first bar that is the same size or larger than 0.2. To find this, find the value 0.2, and draw a line from left to right, and choose the first bar that is taller or equal to this value.</p>
<p class="mb-3"><img class="mx-auto" src="data/grade-cumulative-probability-bottom.png" /> In this case, the result will be 1, since this is the last bar that is covered before meeting a wall. If we do 30% instead, the result will shift to 2.</p>
<p class="mb-3">To answer the question about top 20%, the process is similar. You count 20% from the top, that is, 80%, and draw a line from the right, until if faces the last wall. The result is the last bar that is covered, in this case, 5. If we shift the question to top 30% instead, the line will go to the 3 bar, and the result will be 4.</p>
<p class="mb-3"><img class="mx-auto" src="data/grade-cumulative-probability-top.png" /></p>
<h1 class="text-2xl mt-5 mb-5" data-number="3" id="median"><span class="header-section-number">3</span> Median</h1>
<p class="mb-3">A particular case of quantile is the median, which is the point defining the 50% quantile. In principle, it is the point that divides data in half: half is smaller than it, and half is bigger than it. In practice, it is ambigous since there are two ways you can define it:</p>
<ul class="list-disc list-outside mt-1 mb-3 pl-5">
<li>The first point where 50% of the data is smaller or equal to it</li>
<li>The last point where 50% of the data is larger or equal to it</li>
</ul>
<p class="mb-3">When using it in an ambiguous context, one should be clear about which one is being used.</p>
<h1 class="text-2xl mt-5 mb-5" data-number="4" id="cumulative-counts-in-excel"><span class="header-section-number">4</span> Cumulative counts in Excel</h1>
<p class="mb-3">Cumulative counts work just like counts. We will still use the <code>COUNTIF/СЧЁТЕСЛИ</code> functions, but the condition will be different. Instead of just selecting the cell we want to use as criterion as second argument, we will build the string using the less-than sign <code>&lt;=</code> and the value of the cell. To put both together, we use the <code>&amp;</code> operator. So, for example, in the image below, the result is <code>"&lt;="&amp;D13</code>, which should be equivalent to <code>"&lt;=5"</code>, since the value at <code>D13</code> is 5.</p>
<p class="mb-3"><img class="mx-auto" src="data/cumulative-excel.png" /></p>
<h1 class="text-2xl mt-5 mb-5" data-number="5" id="exercise"><span class="header-section-number">5</span> Exercise</h1>
<p class="mb-3">Download <a class="link link-hover text-zinc-600" href="data/ordered-data.xlsx">this file</a> and:</p>
<ul class="list-disc list-outside mt-1 mb-3 pl-5">
<li>Fill the first table with probabilities, and create a probabilities histogram.</li>
<li>Fill the second table with cumulative probabilities, and create a cumulative probabilities histogram.</li>
<li>By looking at the second histogram, fill manually the third table, by writing the correct values.</li>
</ul>

  <ul class="list-disc list-outside mt-1 mb-3 pl-5"></ul>


</article>
  <script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'en',
      autoDisplay: false,
      includedLanguages: 'en,ru,uz',
    }, 'google_translate_element');
  }
  </script>

  <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</div>

</body>
</html>
